import{R as n,j as m}from"./pnpm-react@18.3.1--FUz9cRTN.js";import{c as _}from"./pnpm-@radix-ui_react-context@1.1.0_@types_react@18.3.3_react@18.3.1--8tErLFxD.js";import{u as I}from"./pnpm-@radix-ui_react-compose-refs@1.1.0_@types_react@18.3.3_react@18.3.1--iQVuCTu7.js";import{a as S}from"./pnpm-@radix-ui_react-slot@1.1.0_@types_react@18.3.3_react@18.3.1--C35REI_A.js";function w(s){const a=s+"CollectionProvider",[A,E]=_(a),[N,f]=A(a,{collectionRef:{current:null},itemMap:new Map}),u=c=>{const{scope:e,children:l}=c,o=n.useRef(null),t=n.useRef(new Map).current;return m.jsx(N,{scope:e,itemMap:t,collectionRef:o,children:l})};u.displayName=a;const d=s+"CollectionSlot",p=n.forwardRef((c,e)=>{const{scope:l,children:o}=c,t=f(d,l),r=I(e,t.collectionRef);return m.jsx(S,{ref:r,children:o})});p.displayName=d;const C=s+"CollectionItemSlot",R="data-radix-collection-item",x=n.forwardRef((c,e)=>{const{scope:l,children:o,...t}=c,r=n.useRef(null),M=I(e,r),i=f(C,l);return n.useEffect(()=>(i.itemMap.set(r,{ref:r,...t}),()=>void i.itemMap.delete(r))),m.jsx(S,{[R]:"",ref:M,children:o})});x.displayName=C;function T(c){const e=f(s+"CollectionConsumer",c);return n.useCallback(()=>{const o=e.collectionRef.current;if(!o)return[];const t=Array.from(o.querySelectorAll(`[${R}]`));return Array.from(e.itemMap.values()).sort((i,O)=>t.indexOf(i.ref.current)-t.indexOf(O.ref.current))},[e.collectionRef,e.itemMap])}return[{Provider:u,Slot:p,ItemSlot:x},T,E]}export{w as c};
