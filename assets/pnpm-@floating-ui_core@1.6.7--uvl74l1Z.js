import{e as D,g as F,a as V,b as _,c as ee,d as te,f as ne,h as $,i as X,m as W,j as B,k as K,l as N,r as I,s as ie,n as Q,o as U}from"./pnpm-@floating-ui_utils@0.2.7--COXYPCKK.js";function q(t,e,d){let{reference:s,floating:r}=t;const n=V(e),o=K(e),m=U(o),c=F(e),u=n==="y",g=s.x+s.width/2-r.width/2,l=s.y+s.height/2-r.height/2,f=s[m]/2-r[m]/2;let i;switch(c){case"top":i={x:g,y:s.y-r.height};break;case"bottom":i={x:g,y:s.y+s.height};break;case"right":i={x:s.x+s.width,y:l};break;case"left":i={x:s.x-r.width,y:l};break;default:i={x:s.x,y:s.y}}switch(X(e)){case"start":i[o]-=f*(d&&u?-1:1);break;case"end":i[o]+=f*(d&&u?-1:1);break}return i}const ae=async(t,e,d)=>{const{placement:s="bottom",strategy:r="absolute",middleware:n=[],platform:o}=d,m=n.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:g,y:l}=q(u,s,c),f=s,i={},a=0;for(let w=0;w<m.length;w++){const{name:x,fn:y}=m[w],{x:v,y:p,data:A,reset:h}=await y({x:g,y:l,initialPlacement:s,placement:f,strategy:r,middlewareData:i,rects:u,platform:o,elements:{reference:t,floating:e}});g=v??g,l=p??l,i={...i,[x]:{...i[x],...A}},h&&a<=50&&(a++,typeof h=="object"&&(h.placement&&(f=h.placement),h.rects&&(u=h.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):h.rects),{x:g,y:l}=q(u,f,c)),w=-1)}return{x:g,y:l,placement:f,strategy:r,middlewareData:i}};async function z(t,e){var d;e===void 0&&(e={});const{x:s,y:r,platform:n,rects:o,elements:m,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:g="viewport",elementContext:l="floating",altBoundary:f=!1,padding:i=0}=D(e,t),a=N(i),x=m[f?l==="floating"?"reference":"floating":l],y=I(await n.getClippingRect({element:(d=await(n.isElement==null?void 0:n.isElement(x)))==null||d?x:x.contextElement||await(n.getDocumentElement==null?void 0:n.getDocumentElement(m.floating)),boundary:u,rootBoundary:g,strategy:c})),v=l==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,p=await(n.getOffsetParent==null?void 0:n.getOffsetParent(m.floating)),A=await(n.isElement==null?void 0:n.isElement(p))?await(n.getScale==null?void 0:n.getScale(p))||{x:1,y:1}:{x:1,y:1},h=I(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:v,offsetParent:p,strategy:c}):v);return{top:(y.top-h.top+a.top)/A.y,bottom:(h.bottom-y.bottom+a.bottom)/A.y,left:(y.left-h.left+a.left)/A.x,right:(h.right-y.right+a.right)/A.x}}const ce=t=>({name:"arrow",options:t,async fn(e){const{x:d,y:s,placement:r,rects:n,platform:o,elements:m,middlewareData:c}=e,{element:u,padding:g=0}=D(t,e)||{};if(u==null)return{};const l=N(g),f={x:d,y:s},i=K(r),a=U(i),w=await o.getDimensions(u),x=i==="y",y=x?"top":"left",v=x?"bottom":"right",p=x?"clientHeight":"clientWidth",A=n.reference[a]+n.reference[i]-f[i]-n.floating[a],h=f[i]-n.reference[i],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=O?O[p]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=m.floating[p]||n.floating[a]);const M=A/2-h/2,R=C/2-w[a]/2-1,P=W(l[y],R),E=W(l[v],R),H=P,Y=C-w[a]-E,b=C/2-w[a]/2+M,j=$(H,b,Y),k=!c.arrow&&X(r)!=null&&b!==j&&n.reference[a]/2-(b<H?P:E)-w[a]/2<0,S=k?b<H?b-H:b-Y:0;return{[i]:f[i]+S,data:{[i]:j,centerOffset:b-j-S,...k&&{alignmentOffset:S}},reset:k}}}),le=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var d,s;const{placement:r,middlewareData:n,rects:o,initialPlacement:m,platform:c,elements:u}=e,{mainAxis:g=!0,crossAxis:l=!0,fallbackPlacements:f,fallbackStrategy:i="bestFit",fallbackAxisSideDirection:a="none",flipAlignment:w=!0,...x}=D(t,e);if((d=n.arrow)!=null&&d.alignmentOffset)return{};const y=F(r),v=V(m),p=F(m)===m,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),h=f||(p||!w?[_(m)]:ee(m)),O=a!=="none";!f&&O&&h.push(...te(m,w,a,A));const C=[m,...h],M=await z(e,x),R=[];let P=((s=n.flip)==null?void 0:s.overflows)||[];if(g&&R.push(M[y]),l){const b=ne(r,o,A);R.push(M[b[0]],M[b[1]])}if(P=[...P,{placement:r,overflows:R}],!R.every(b=>b<=0)){var E,H;const b=(((E=n.flip)==null?void 0:E.index)||0)+1,j=C[b];if(j)return{data:{index:b,overflows:P},reset:{placement:j}};let k=(H=P.filter(S=>S.overflows[0]<=0).sort((S,T)=>S.overflows[1]-T.overflows[1])[0])==null?void 0:H.placement;if(!k)switch(i){case"bestFit":{var Y;const S=(Y=P.filter(T=>{if(O){const L=V(T.placement);return L===v||L==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(L=>L>0).reduce((L,Z)=>L+Z,0)]).sort((T,L)=>T[1]-L[1])[0])==null?void 0:Y[0];S&&(k=S);break}case"initialPlacement":k=m;break}if(r!==k)return{reset:{placement:k}}}return{}}}};function G(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function J(t){return ie.some(e=>t[e]>=0)}const re=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:d}=e,{strategy:s="referenceHidden",...r}=D(t,e);switch(s){case"referenceHidden":{const n=await z(e,{...r,elementContext:"reference"}),o=G(n,d.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:J(o)}}}case"escaped":{const n=await z(e,{...r,altBoundary:!0}),o=G(n,d.floating);return{data:{escapedOffsets:o,escaped:J(o)}}}default:return{}}}}};async function se(t,e){const{placement:d,platform:s,elements:r}=t,n=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=F(d),m=X(d),c=V(d)==="y",u=["left","top"].includes(o)?-1:1,g=n&&c?-1:1,l=D(e,t);let{mainAxis:f,crossAxis:i,alignmentAxis:a}=typeof l=="number"?{mainAxis:l,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...l};return m&&typeof a=="number"&&(i=m==="end"?a*-1:a),c?{x:i*g,y:f*u}:{x:f*u,y:i*g}}const fe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var d,s;const{x:r,y:n,placement:o,middlewareData:m}=e,c=await se(e,t);return o===((d=m.offset)==null?void 0:d.placement)&&(s=m.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:n+c.y,data:{...c,placement:o}}}}},me=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:d,y:s,placement:r}=e,{mainAxis:n=!0,crossAxis:o=!1,limiter:m={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...c}=D(t,e),u={x:d,y:s},g=await z(e,c),l=V(F(r)),f=Q(l);let i=u[f],a=u[l];if(n){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=i+g[x],p=i-g[y];i=$(v,i,p)}if(o){const x=l==="y"?"top":"left",y=l==="y"?"bottom":"right",v=a+g[x],p=a-g[y];a=$(v,a,p)}const w=m.fn({...e,[f]:i,[l]:a});return{...w,data:{x:w.x-d,y:w.y-s}}}}},de=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:d,y:s,placement:r,rects:n,middlewareData:o}=e,{offset:m=0,mainAxis:c=!0,crossAxis:u=!0}=D(t,e),g={x:d,y:s},l=V(r),f=Q(l);let i=g[f],a=g[l];const w=D(m,e),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const p=f==="y"?"height":"width",A=n.reference[f]-n.floating[p]+x.mainAxis,h=n.reference[f]+n.reference[p]-x.mainAxis;i<A?i=A:i>h&&(i=h)}if(u){var y,v;const p=f==="y"?"width":"height",A=["top","left"].includes(F(r)),h=n.reference[l]-n.floating[p]+(A&&((y=o.offset)==null?void 0:y[l])||0)+(A?0:x.crossAxis),O=n.reference[l]+n.reference[p]+(A?0:((v=o.offset)==null?void 0:v[l])||0)-(A?x.crossAxis:0);a<h?a=h:a>O&&(a=O)}return{[f]:i,[l]:a}}}},ge=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:d,rects:s,platform:r,elements:n}=e,{apply:o=()=>{},...m}=D(t,e),c=await z(e,m),u=F(d),g=X(d),l=V(d)==="y",{width:f,height:i}=s.floating;let a,w;u==="top"||u==="bottom"?(a=u,w=g===(await(r.isRTL==null?void 0:r.isRTL(n.floating))?"start":"end")?"left":"right"):(w=u,a=g==="end"?"top":"bottom");const x=i-c.top-c.bottom,y=f-c.left-c.right,v=W(i-c[a],x),p=W(f-c[w],y),A=!e.middlewareData.shift;let h=v,O=p;if(l?O=g||A?W(p,y):y:h=g||A?W(v,x):x,A&&!g){const M=B(c.left,0),R=B(c.right,0),P=B(c.top,0),E=B(c.bottom,0);l?O=f-2*(M!==0||R!==0?M+R:B(c.left,c.right)):h=i-2*(P!==0||E!==0?P+E:B(c.top,c.bottom))}await o({...e,availableWidth:O,availableHeight:h});const C=await r.getDimensions(n.floating);return f!==C.width||i!==C.height?{reset:{rects:!0}}:{}}}};export{ge as a,ce as b,ae as c,le as f,re as h,de as l,fe as o,me as s};
