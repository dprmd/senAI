const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/src-lib-myUtils.js-CM7Pyx7U.js","assets/src-components-ui-use-toast.js-w7cDmHIs.js","assets/pnpm-react@18.3.1--FUz9cRTN.js","assets/pnpm-@babel_runtime@7.25.0--CyFcdsuD.js"])))=>i.map(i=>d[i]);
import{_ as f}from"./pnpm-react-syntax-highlighter@15.5.0_react@18.3.1--DZvnRHEN.js";import{t as n}from"./src-components-ui-use-toast.js-w7cDmHIs.js";import{t as i}from"./pnpm-i18next@23.12.2--B7JNKktp.js";import{fetchJson as r,checkLS as T,getLS as w,rmLS as E,resetLocalStorage as N}from"./src-lib-myUtils.js-CM7Pyx7U.js";import{f as C,a as _,b as S,c as $,d as A,e as D,g as v,h as I,i as U,j as O,k as b,l as F,m as L,n as j,o as J,p as k}from"./src-controller-serverSource.js-CoR-J6Fc.js";import"./pnpm-react@18.3.1--FUz9cRTN.js";import"./pnpm-@babel_runtime@7.25.0--CyFcdsuD.js";import"./pnpm-refractor@3.6.0--CXVGWoH1.js";import"./pnpm-hastscript@6.0.0--DUsoOKIx.js";import"./pnpm-property-information@5.6.0--BaUulPWZ.js";import"./pnpm-xtend@4.0.2--CeaPpq3n.js";import"./pnpm-space-separated-tokens@1.1.5--CMBzgJJ4.js";import"./pnpm-comma-separated-tokens@1.0.8--DgTuumFk.js";import"./pnpm-hast-util-parse-selector@2.2.5--Cqsfuk9Y.js";import"./pnpm-parse-entities@2.0.0--Cz6FRF7l.js";import"./pnpm-character-entities-legacy@1.1.4--BW45UVHJ.js";import"./pnpm-character-reference-invalid@1.1.4--AKrgFUtc.js";import"./pnpm-is-decimal@1.0.4--Dxw1ZLrO.js";import"./pnpm-is-hexadecimal@1.0.4--Bc6OsCR9.js";import"./pnpm-is-alphanumerical@1.0.4--VupdbT_8.js";import"./pnpm-is-alphabetical@1.0.4--BlcIJk-E.js";import"./pnpm-prismjs@1.27.0--l2mXeTxv.js";const V=async t=>{const e=await r(`${L}?userId=${t}`);if(e.status===200||e.status===404)return e.userExist;console.log(e)},ce=async t=>{const e=await r(`${A}?userId=${t}`);if(e.status===200)return e.chats;e.status===404?n({description:i("userid_not_registered"),duration:2e3,variant:"destructive"}):console.log(e)},le=async t=>{const e=await r(`${D}?userId=${t}`);if(e.status===200)return e.chatsMemory;e.status===404?n({description:i("userid_not_registered"),duration:2e3,variant:"destructive"}):console.log(e)},ue=async t=>{const e=await r(`${v}?userId=${t}`);if(e.status===200)return e;e.status===404?n({description:i("userid_not_registered"),duration:2e3,variant:"destructive"}):console.log(e)},pe=async t=>{const e=await r(`${S}?securityCode=${t}`);if(e.status===202||e.status===405)return e.permits;e.status===404?n({description:i("no_password_collection"),duration:3e3,variant:"destructive"}):console.log(e)},G=async()=>{if(T("senAi-userId")){const t=w("senAi-userId");return await V(t)?t:(E("senAi-userId"),G())}else{N();const{getDeviceName:t,getDeviceType:e}=await f(async()=>{const{getDeviceName:h,getDeviceType:P}=await import("./src-lib-myUtils.js-CM7Pyx7U.js");return{getDeviceName:h,getDeviceType:P}},__vite__mapDeps([0,1,2,3])),{generateTimeNow:s}=await f(async()=>{const{generateTimeNow:h}=await import("./src-lib-generateTime.js-DFXwsD9v.js");return{generateTimeNow:h}},[]),o=t(),a=e(),{day:d,monthName:c,year:l,hour:u,minute:p,second:m}=s(),g=`${d} ${c} ${l} , ${u}:${p}:${m}`,y=await r(I,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deviceName:o,deviceType:a,lastSeen:g})});if(y.status===201)return y.newUserId;console.log(y)}},me=async(t,e,s)=>{const o=await r(j,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,newChatFromUser:e,newChatFromAi:s})});o.status!==201&&(o.status===404?n({description:i("userid_not_registered"),duration:2e3,variant:"destructive"}):console.log(o))},ye=async t=>{const e=await r(k,{method:"POST",body:t});return e.status===201?e:e.error},he=async t=>{const{generateTimeNow:e}=await f(async()=>{const{generateTimeNow:m}=await import("./src-lib-generateTime.js-DFXwsD9v.js");return{generateTimeNow:m}},[]),{day:s,monthName:o,year:a,hour:d,minute:c,second:l}=e(),u=`${s} ${o} ${a} , ${d}:${c}:${l}`,p=await r(U,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,lastSeen:u})});p.status!==201&&console.log(p)},fe=async(t,e)=>{const s=await r(C,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,chats:e})});s.status!==202&&console.log(s)},ge=async(t,e,s)=>{const o=await r(_,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,someChatsNew:e,someChatsDeleted:s})});o.status!==202&&console.log(o)},Pe=async(t,e,s)=>{const o=await r($,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,securityCode:e,option:s})});if(o.status===202){const{chats:a,backupChats:d,lastSeenHistory:c,allCollections:l}=o.whichDelete;return`${a?"chats ,":""} ${d?"backup chats":""} ${l?"all collections":""} ${c?"and last seen history":""}`}else console.log(o)},Te=async t=>{const e=await r(O,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({oldPPFileName:t})});e.status!==202&&console.log(e)},we=async(t,e)=>{const s=await r(J,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,newName:e})});if(s.status===202)return s;s.status===404?n({description:i("userid_not_registered"),duration:2e3,variant:"destructive"}):console.log(s)},Ee=async t=>{const e=await r(b,{method:"PUT",body:t});if(e.status===201)return e;console.log(e)},Ne=async(t,e,s,o)=>{const a=await r(F,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,newPPUrl:e,newPPFileName:s,customPPUrl:o})});return a.status===202?!0:(console.log(a),!1)};export{me as addNewChatsToFirestore,G as addNewUserToFirestoreIfNotExists,ye as addNewVoiceChatToFireStorage,fe as deleteAllChatsInFirestore,Pe as deleteAllDataInFirestore,Te as deletePPInFireStorage,ge as deleteSomeChatsInFirestore,ce as getAllChatsFromFirestore,le as getAllChatsMemoryFromFirestore,ue as getNameAndPPUrl,pe as getPermissionToDeleteAllData,we as updateName,Ne as updatePPUrlInFirestore,Ee as updateProfilePhoto,he as uploadSeenHistory};
