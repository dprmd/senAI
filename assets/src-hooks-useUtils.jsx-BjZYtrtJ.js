const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/src-controller-CRUDFirestore.js-CZR2B6qO.js","assets/pnpm-react-syntax-highlighter@15.5.0_react@18.3.1--DZvnRHEN.js","assets/pnpm-react@18.3.1--FUz9cRTN.js","assets/pnpm-@babel_runtime@7.25.0--CyFcdsuD.js","assets/pnpm-refractor@3.6.0--CXVGWoH1.js","assets/pnpm-hastscript@6.0.0--DUsoOKIx.js","assets/pnpm-property-information@5.6.0--BaUulPWZ.js","assets/pnpm-xtend@4.0.2--CeaPpq3n.js","assets/pnpm-space-separated-tokens@1.1.5--CMBzgJJ4.js","assets/pnpm-comma-separated-tokens@1.0.8--DgTuumFk.js","assets/pnpm-hast-util-parse-selector@2.2.5--Cqsfuk9Y.js","assets/pnpm-parse-entities@2.0.0--Cz6FRF7l.js","assets/pnpm-character-entities-legacy@1.1.4--BW45UVHJ.js","assets/pnpm-character-reference-invalid@1.1.4--AKrgFUtc.js","assets/pnpm-is-decimal@1.0.4--Dxw1ZLrO.js","assets/pnpm-is-hexadecimal@1.0.4--Bc6OsCR9.js","assets/pnpm-is-alphanumerical@1.0.4--VupdbT_8.js","assets/pnpm-is-alphabetical@1.0.4--BlcIJk-E.js","assets/pnpm-prismjs@1.27.0--l2mXeTxv.js","assets/src-controller-serverSource.js-q3Bpf1-e.js","assets/src-lib-myUtils.js-B3UxZQ32.js","assets/src-components-ui-use-toast.js-w7cDmHIs.js"])))=>i.map(i=>d[i]);
import{_ as f}from"./pnpm-react-syntax-highlighter@15.5.0_react@18.3.1--DZvnRHEN.js";import{r as O}from"./pnpm-react@18.3.1--FUz9cRTN.js";import{u as d}from"./pnpm-zustand@4.5.4_@types_react@18.3.3_react@18.3.1--EhdkWrrw.js";import{u as P}from"./src-store-appStore.js-CeccZLF4.js";import{u as m,f as b,s as S}from"./src-store-useChatsStore.js-D4_VXnQ2.js";import{u as x}from"./src-hooks-useOnlineStatus.jsx-6CQSTZAH.js";import{u as I}from"./src-store-useSettingsStore.js--zqtBzO6.js";import{getDeviceType as R}from"./src-lib-myUtils.js-B3UxZQ32.js";const A=()=>{const[e,t,r,l]=m(d(a=>[a.setHoldChats,a.stillHold,a.setStillHold,a.setTriggerClearHolding]));return()=>{if(t)r(!1),e([]),l();else return}},Q=({chat:e,holding:t,setHolding:r})=>{const[l,i,a,n]=m(d(c=>[c.holdChats,c.setHoldChats,c.stillHold,c.setStillHold]));let s;const u=()=>{s&&!a&&(n(!0),S(!0),i([...l,e]),r(!0)),s=!1};return{handleHoldChatStart:()=>{a||(s=!0,setTimeout(()=>{u()},1e3))},handleHoldChatEnd:()=>{s=!1},handleClickHoldChat:()=>{if(a)t&&!b&&(r(!1),i([...l].filter(c=>c.time!==e.time)),l.length===1&&n(!1)),t||(r(!0),i([...l,e])),S(!1);else return}}},W=()=>{const[e,t,r]=m(d(s=>[s.chats,s.setChats,s.setChatsMemory])),[l]=P(d(s=>[s.userId])),[i]=m(d(s=>[s.holdChats])),a=A();return async()=>{let s=e.slice();for(let o=0;o<i.length;o++)s=s.filter(c=>c.time!==i[o].time);const u=s.map(o=>({role:o.position==="right"?"user":"assistant",content:o.message}));r(u);const{deleteSomeChatsInFirestore:g}=await f(async()=>{const{deleteSomeChatsInFirestore:o}=await import("./src-controller-CRUDFirestore.js-CZR2B6qO.js");return{deleteSomeChatsInFirestore:o}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]));g(l,s,i),t(s),a()}},X=()=>{const e=x(),[t]=P(d(n=>[n.userId])),[r,l,i]=m(d(n=>[n.chats,n.setChats,n.setChatsMemory]));return async()=>{const{deleteAllChatsInFirestore:n}=await f(async()=>{const{deleteAllChatsInFirestore:s}=await import("./src-controller-CRUDFirestore.js-CZR2B6qO.js");return{deleteAllChatsInFirestore:s}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]));e&&n(t,r),l([]),i([])}},Y=()=>{const[e,t,r]=P(d(o=>[o.userId,o.setUserId,o.setLoadingMessages])),[l,i]=m(d(o=>[o.setChats,o.setChatsMemory])),[a,n,s,u]=I(d(o=>[o.setOldName,o.setCustomPPFileName,o.setCustomProfilePhotoUrl,o.setProfilePhotoUrl]));return async()=>{try{const{addNewUserToFirestoreIfNotExists:C,uploadSeenHistory:c,getAllChatsFromFirestore:H,getAllChatsMemoryFromFirestore:p,getNameAndPPUrl:y}=await f(async()=>{const{addNewUserToFirestoreIfNotExists:N,uploadSeenHistory:k,getAllChatsFromFirestore:D,getAllChatsMemoryFromFirestore:L,getNameAndPPUrl:v}=await import("./src-controller-CRUDFirestore.js-CZR2B6qO.js");return{addNewUserToFirestoreIfNotExists:N,uploadSeenHistory:k,getAllChatsFromFirestore:D,getAllChatsMemoryFromFirestore:L,getNameAndPPUrl:v}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21])),h=await C();localStorage.setItem("senAi-userId",h),t(h);const[F,M,w]=await Promise.all([H(h),p(h),y(h),c(h)]),{name:_,customPPUrl:T,PPUrl:U,PPFileName:E}=w;a(_),s(T),u(U),n(E),l(F),i(M),r(!1)}catch(C){console.log("An error occured : ",C)}localStorage.getItem("senAi-userId")===e||t(localStorage.getItem("senAi-userId"))}},Z=()=>{const e=A();return r=>{r.keyCode===27&&e()}},$=()=>{const[e,t]=I(d(l=>[l.darkMode,l.setDarkMode]));return()=>{e?(localStorage.setItem("senAi-theme","light"),t(!1)):(localStorage.setItem("senAi-theme","dark"),t(!0))}},ee=()=>{const[e]=I(d(r=>[r.botLanguage]));let t="";return e==="Auto"&&(t="Please Answer Me"),e==="English"&&(t="Please Answer Me In English Language"),e==="Indonesia"&&(t="Please Answer Me In Informal Indonesian Language"),t},te=()=>{const e=R(),[t]=O.useState(e==="Android"||e==="IOS");return t};export{A as a,$ as b,X as c,W as d,Q as e,Y as f,Z as g,te as h,ee as u};
