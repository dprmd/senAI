import{r as s,j as e}from"./pnpm-react@18.3.1--FUz9cRTN.js";import{h as A}from"./src-hooks-useUtils.jsx-DM9cASTA.js";import{D as l}from"./src-components-svg-DynamicSvg.jsx-BgCrTit6.js";import{t as F}from"./src-components-ui-use-toast.js-w7cDmHIs.js";import{A as f,a as h,b as j,c as D,d as v,e as P}from"./src-components-ui-alert-dialog.jsx-BydoaKMR.js";import{u as H}from"./src-store-useSettingsStore.js-CdjOmluh.js";import{u as R}from"./pnpm-zustand@4.5.4_@types_react@18.3.3_react@18.3.1--EhdkWrrw.js";import{u as O}from"./pnpm-react-i18next@15.0.1_i18next@23.12.2_react-dom@18.3.1_react@18.3.1__react@18.3.1--C-fP4VmU.js";import{a as z}from"./pnpm-react-router@6.26.0_react@18.3.1--BYg1aRBq.js";const J=()=>{const[i,o,c]=H(R(t=>[t.setImageFile,t.setHaveSelectImageFile,t.profilePhotoUrl])),{t:m}=O(),d=z(),y=A(),b=localStorage.getItem("senAi-love")?localStorage.getItem("senAi-love"):"no",[r,g]=s.useState(b==="yes"),p=s.useRef(null),x=s.useRef(null),[k,n]=s.useState(!1),[C,u]=s.useState(!1),S=async()=>{x.current.click()},I=()=>{p.current.click()},N=t=>{const a=t.target.files[0];a&&(i(a),o(!0),n(!1),d("/settings/cropImage"))},w=t=>{const a=t.target.files[0];a&&(a.type==="image/png"||a.type==="image/jpeg")?(i(a),o(!0),n(!1),d("/settings/cropImage")):F({description:m("image_format_wrong"),duration:4e3,variant:"destructive"})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-center py-5",children:e.jsxs("div",{className:"relative rounded-full",children:[e.jsx("img",{src:c,className:"z-0 h-full max-h-[150px] min-h-[150px] min-w-[150px] max-w-[150px] rounded-full",alt:"",loading:"lazy",onClick:()=>{u(!0)},"aria-hidden":!0}),e.jsx("button",{className:"absolute bottom-4 right-0 rounded-full bg-green-600 p-2 dark:bg-green-400",onClick:()=>{n(!0)},children:e.jsx(l,{name:"Camera",className:"h-5 w-5 text-slate-100 dark:text-slate-900"})})]})}),e.jsx(f,{open:k,children:e.jsxs(h,{className:"top-[100%] w-full translate-y-[-100%] rounded-none rounded-t-xl sm:top-[50%] sm:translate-y-[-50%] sm:rounded-xl",onClickOverlay:()=>{n(!1)},children:[e.jsxs(j,{children:[e.jsx(D,{className:"mb-6 text-left font-bold",children:m("profile_photo")}),e.jsx(v,{children:e.jsxs("div",{className:"flex items-center gap-x-6 pb-6",children:[y&&e.jsxs("div",{className:"flex min-w-20 cursor-pointer flex-col items-center justify-center gap-2 rounded-xl p-1 duration-300 active:bg-green-200 dark:active:bg-green-700",onClick:S,"aria-hidden":!0,children:[e.jsx("div",{children:e.jsx(l,{name:"Camera",className:"h-7 w-7 font-bold text-green-400 dark:text-green-600"})}),e.jsx("p",{children:"Camera"}),e.jsx("input",{ref:x,type:"file",accept:"image/*",capture:"environment",onChange:N,style:{display:"none"},id:"cameraInput"})]}),e.jsxs("div",{className:"flex min-w-20 cursor-pointer flex-col items-center justify-center gap-2 rounded-xl p-1 duration-300 active:bg-green-200 dark:active:bg-green-700",onClick:()=>{I()},"aria-hidden":!0,children:[e.jsx("div",{children:e.jsx(l,{name:"CardImage",className:"h-7 w-7 font-bold text-green-400 dark:text-green-600"})}),e.jsx("p",{children:"Files"}),e.jsx("input",{type:"file",ref:p,style:{display:"none"},accept:".png, .jpg, .jpeg",onChange:w})]})]})})]}),e.jsx(P,{})]})}),e.jsx(f,{open:C,children:e.jsx(h,{className:"h-[300px] w-[300px] rounded-none p-0",onClickOverlay:()=>{u(!1)},children:e.jsx(j,{children:e.jsxs(v,{children:[e.jsx("img",{src:c,alt:"",className:"h-[300px] w-[300px]",loading:"lazy"}),e.jsx("div",{className:"flex h-[48px] w-full items-center justify-center rounded-b-xl bg-slate-100 py-2 dark:bg-slate-800",children:r?e.jsx("button",{onClick:()=>{r?localStorage.setItem("senAi-love","no"):localStorage.setItem("senAi-love","yes"),g(t=>!t)},children:e.jsx(l,{name:"HeartFill",className:"h-8 w-8 animate-small-to-big text-green-400 dark:text-green-600"})}):e.jsx("button",{onClick:()=>{r?localStorage.setItem("senAi-love","no"):localStorage.setItem("senAi-love","yes"),g(t=>!t)},children:e.jsx(l,{name:"Heart",className:"h-8 w-8 animate-small-to-big text-green-400 dark:text-green-600"})})})]})})})})]})};export{J as S};
