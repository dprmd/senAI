import{r as n,j as s}from"./pnpm-react@18.3.1--FUz9cRTN.js";import{D as i}from"./src-components-svg-DynamicSvg.jsx-BEJwgHYB.js";import{u as h}from"./src-store-useSettingsStore.js-DBU6w3vm.js";import{u as j}from"./pnpm-zustand@4.5.4_@types_react@18.3.3_react@18.3.1--EhdkWrrw.js";import{S as g}from"./src-components-ui-skeleton.jsx-DNL_RBFp.js";const w=({chat:u})=>{const[r]=h(j(e=>[e.profilePhotoUrl])),[m,d]=n.useState(!1),[o,l]=n.useState(!1),t=n.useRef(null),a=n.useRef(null),c=()=>{o?t.current.pause():t.current.play(),l(e=>!e)},f=()=>{l(!1)},p=()=>{const e=100/t.current.duration*t.current.currentTime;a.current.value=e},x=()=>{const e=t.current.duration*(a.current.value/100);t.current.currentTime=e};return n.useEffect(()=>{const e=new Image;return e.src=r,e.addEventListener("load",()=>{d(!0)}),()=>{e.removeEventListener("load",()=>{})}}),s.jsxs("div",{className:"flex items-center gap-x-2 pt-2",children:[s.jsx("audio",{src:u.downloadUrl,ref:t,onEnded:f,onTimeUpdate:p,children:s.jsx("track",{kind:"captions"})}),m?s.jsx("img",{src:r,alt:"sen",className:"h-11 w-11 rounded-full"}):s.jsx(g,{className:"h-11 w-11 rounded-full"}),s.jsxs("div",{className:"flex flex-1 items-center gap-x-2",children:[o?s.jsx("button",{onClick:c,children:s.jsx(i,{name:"Pause",className:"h-7 w-7"})}):s.jsx("button",{onClick:c,children:s.jsx(i,{name:"Play",className:"h-7 w-7"})}),s.jsx("input",{type:"range",value:"0",max:"100",ref:a,onInput:x,className:"flex-1"})]})]})};export{w as A};
