const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/src-controller-CRUDFirestore.js-D4ksoFTk.js","assets/pnpm-react-syntax-highlighter@15.5.0_react@18.3.1--DZvnRHEN.js","assets/pnpm-react@18.3.1--FUz9cRTN.js","assets/pnpm-@babel_runtime@7.25.0--CyFcdsuD.js","assets/pnpm-refractor@3.6.0--CXVGWoH1.js","assets/pnpm-hastscript@6.0.0--DUsoOKIx.js","assets/pnpm-property-information@5.6.0--BaUulPWZ.js","assets/pnpm-xtend@4.0.2--CeaPpq3n.js","assets/pnpm-space-separated-tokens@1.1.5--CMBzgJJ4.js","assets/pnpm-comma-separated-tokens@1.0.8--DgTuumFk.js","assets/pnpm-hast-util-parse-selector@2.2.5--Cqsfuk9Y.js","assets/pnpm-parse-entities@2.0.0--Cz6FRF7l.js","assets/pnpm-character-entities-legacy@1.1.4--BW45UVHJ.js","assets/pnpm-character-reference-invalid@1.1.4--AKrgFUtc.js","assets/pnpm-is-decimal@1.0.4--Dxw1ZLrO.js","assets/pnpm-is-hexadecimal@1.0.4--Bc6OsCR9.js","assets/pnpm-is-alphanumerical@1.0.4--VupdbT_8.js","assets/pnpm-is-alphabetical@1.0.4--BlcIJk-E.js","assets/pnpm-prismjs@1.27.0--l2mXeTxv.js","assets/src-controller-serverSource.js-Cl8oyjhr.js","assets/src-lib-myUtils.js-B2cOH3lS.js"])))=>i.map(i=>d[i]);
import{_ as u}from"./pnpm-react-syntax-highlighter@15.5.0_react@18.3.1--DZvnRHEN.js";import{r,j as e}from"./pnpm-react@18.3.1--FUz9cRTN.js";import{u as _}from"./pnpm-zustand@4.5.4_@types_react@18.3.3_react@18.3.1--EhdkWrrw.js";import{u as O}from"./src-store-appStore.js-CAdzJ0y8.js";import{u as F}from"./src-store-useChatsStore.js-D4_VXnQ2.js";import{S as b}from"./src-components-composable-SettingsTop.jsx-EcIuxh6L.js";import{L as B}from"./src-components-composable-Loading.jsx-DQQ3HTNO.js";import{A as y}from"./src-components-composable-AlertDialogNormal.jsx-DUj2kW-a.js";import{I as H,a as S,b as n,c as P}from"./src-components-ui-input-otp.jsx-CTHS2kEv.js";import{B as D}from"./src-components-ui-button.jsx-DsJR5dHX.js";import{L as p}from"./src-components-ui-label.jsx-BbA8jTdU.js";import{C as x}from"./src-components-ui-checkbox.jsx-CoBq23Pr.js";import{t as E}from"./src-components-ui-use-toast.js-w7cDmHIs.js";import{T as R}from"./src-components-ui-toaster.jsx-7EBQbj9a.js";import{u as V}from"./pnpm-react-i18next@15.0.1_i18next@23.12.2_react-dom@18.3.1_react@18.3.1__react@18.3.1--C-fP4VmU.js";import{m as z}from"./pnpm-framer-motion@11.3.22_react-dom@18.3.1_react@18.3.1__react@18.3.1--COr7I5SZ.js";import{L as W}from"./pnpm-lucide-react@0.412.0_react@18.3.1--BJNNq4L6.js";const ne=()=>{const[k]=F(_(t=>[t.setChats])),[A]=O(_(t=>[t.userId])),{t:a}=V(),[L,f]=r.useState(!1),[i,o]=r.useState({withChats:!1,withBackupChats:!1,withLastSeenHistory:!1}),C=6,[l,c]=r.useState(""),[N,w]=r.useState(!1),[T,g]=r.useState(!1),[v,h]=r.useState(!1),j=async()=>{if(l.length<C)return;const{getPermissionToDeleteAllData:t}=await u(async()=>{const{getPermissionToDeleteAllData:m}=await import("./src-controller-CRUDFirestore.js-D4ksoFTk.js");return{getPermissionToDeleteAllData:m}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])),{sleep:s}=await u(async()=>{const{sleep:m}=await import("./src-lib-generateTime.js-DFXwsD9v.js");return{sleep:m}},[]);w(!0),await s(500);const d=await t(l);await s(500),d?h(!0):g(!0),w(!1)},I=async()=>{if(!i.withChats&&!i.withBackupChats&&!i.withLastSeenHistory)return;f(!0),i.withChats&&k([]),h(!1);const{deleteAllDataInFirestore:t}=await u(async()=>{const{deleteAllDataInFirestore:d}=await import("./src-controller-CRUDFirestore.js-D4ksoFTk.js");return{deleteAllDataInFirestore:d}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])),s=await t(A,l,i);c(""),o({withChats:!1,withBackupChats:!1,withLastSeenHistory:!1}),E({title:a("deleted_all_data"),description:s,duration:2500}),f(!1)};return r.useEffect(()=>{const t=window.innerHeight,s=document.querySelector(".settingOtherClearAllData");s.style.minHeight=`${t-60}px`},[]),e.jsxs(e.Fragment,{children:[e.jsx(R,{}),e.jsxs(z.div,{className:"bg-[#FFFFFF] text-slate-900 dark:bg-[#0B141A] dark:text-slate-100",initial:{opacity:0,transition:{duration:.2}},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.2}},children:[e.jsx(b,{title:a("delete_all_data_title"),urlBack:"/settings/other"}),e.jsxs("main",{className:"settingOtherClearAllData flex flex-col items-center justify-start py-10",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-xl font-bold",id:"enter-security-code",children:a("enter_security_code")}),e.jsx("div",{className:"mt-5",children:e.jsxs(H,{"aria-labelledby":"enter-security-code",maxLength:C,value:l,onChange:t=>{c(t)},onComplete:j,children:[e.jsxs(S,{children:[e.jsx(n,{index:0}),e.jsx(n,{index:1}),e.jsx(n,{index:2})]}),e.jsx(P,{}),e.jsxs(S,{children:[e.jsx(n,{index:3}),e.jsx(n,{index:4}),e.jsx(n,{index:5})]})]})})]}),e.jsx("div",{className:"mt-10",children:N?e.jsxs(D,{disabled:!0,variant:"whatsapp",size:"sm",className:"rounded-3xl px-10",children:[a("is_checking"),e.jsx(W,{className:"ml-2 h-4 w-4 animate-spin"})]}):e.jsx(D,{variant:"whatsapp",size:"sm",className:"rounded-3xl px-10",onClick:j,children:a("check")})})]})]}),L&&e.jsx(B,{message:a("loading_delete_all_data")}),e.jsx(y,{openState:T,setOpenState:g,showTitle:!0,showDescription:!0,title:a("wrong_security_code"),description:a("wrong_security_code_desc"),showCancel:!1,continueTitle:a("try_again"),showContinue:!0,handleContinue:()=>{c("")}}),e.jsx(y,{openState:v,setOpenState:h,showTitle:!0,showDescription:!0,title:a("choose_to_delete"),showCancel:!0,showContinue:!0,handleCancel:()=>{o({withChats:!1,withBackupChats:!1,withLastSeenHistory:!1})},handleContinue:I,children:e.jsxs("div",{className:"flex flex-col items-start justify-center gap-y-4 px-1 py-3",children:[e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsx(x,{id:"chats",checked:i.withChats,onCheckedChange:t=>{o(s=>({...s,withChats:t}))}}),e.jsx(p,{htmlFor:"chats",className:"cursor-pointer",children:"Chats"})]}),e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsx(x,{id:"backupChats",checked:i.withBackupChats,onCheckedChange:t=>{o(s=>({...s,withBackupChats:t}))}}),e.jsx(p,{htmlFor:"backupChats",className:"cursor-pointer",children:"Backup Chats"})]}),e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsx(x,{id:"lastSeenHistory",checked:i.withLastSeenHistory,onCheckedChange:t=>{o(s=>({...s,withLastSeenHistory:t}))}}),e.jsx(p,{htmlFor:"lastSeenHistory",className:"cursor-pointer",children:"Last Seen History"})]})]})})]})};export{ne as S};
