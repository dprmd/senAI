const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/src-controller-CRUDFirestore.js-B7EpQVhr.js","assets/pnpm-react-syntax-highlighter@15.5.0_react@18.3.1--DZvnRHEN.js","assets/pnpm-react@18.3.1--FUz9cRTN.js","assets/pnpm-@babel_runtime@7.25.0--CyFcdsuD.js","assets/pnpm-refractor@3.6.0--CXVGWoH1.js","assets/pnpm-hastscript@6.0.0--DUsoOKIx.js","assets/pnpm-property-information@5.6.0--BaUulPWZ.js","assets/pnpm-xtend@4.0.2--CeaPpq3n.js","assets/pnpm-space-separated-tokens@1.1.5--CMBzgJJ4.js","assets/pnpm-comma-separated-tokens@1.0.8--DgTuumFk.js","assets/pnpm-hast-util-parse-selector@2.2.5--Cqsfuk9Y.js","assets/pnpm-parse-entities@2.0.0--Cz6FRF7l.js","assets/pnpm-character-entities-legacy@1.1.4--BW45UVHJ.js","assets/pnpm-character-reference-invalid@1.1.4--AKrgFUtc.js","assets/pnpm-is-decimal@1.0.4--Dxw1ZLrO.js","assets/pnpm-is-hexadecimal@1.0.4--Bc6OsCR9.js","assets/pnpm-is-alphanumerical@1.0.4--VupdbT_8.js","assets/pnpm-is-alphabetical@1.0.4--BlcIJk-E.js","assets/pnpm-prismjs@1.27.0--l2mXeTxv.js","assets/src-controller-serverSource.js-BcBVzHki.js","assets/src-lib-myUtils.js-B2cOH3lS.js"])))=>i.map(i=>d[i]);
import{_ as g}from"./pnpm-react-syntax-highlighter@15.5.0_react@18.3.1--DZvnRHEN.js";import{u as l}from"./pnpm-zustand@4.5.4_@types_react@18.3.3_react@18.3.1--EhdkWrrw.js";import{u as f}from"./src-store-appStore.js-CAdzJ0y8.js";import{u,f as A,s as I}from"./src-store-useChatsStore.js-Da3DW-7L.js";import{u as _}from"./src-hooks-useOnlineStatus.jsx-6CQSTZAH.js";import{u as S}from"./src-store-useSettingsStore.js-nrdVV1X2.js";const H=()=>{const[o,t,r,a]=u(l(e=>[e.setHoldChats,e.stillHold,e.setStillHold,e.setTriggerClearHolding]));return()=>{if(t)r(!1),o([]),a();else return}},L=({chat:o,holding:t,setHolding:r})=>{const[a,i,e,s]=u(l(c=>[c.holdChats,c.setHoldChats,c.stillHold,c.setStillHold]));let d;const n=()=>{d&&!e&&(s(!0),I(!0),i([...a,o]),r(!0)),d=!1};return{handleHoldChatStart:()=>{e||(d=!0,setTimeout(()=>{n()},1e3))},handleHoldChatEnd:()=>{d=!1},handleClickHoldChat:()=>{if(e)t&&!A&&(r(!1),i([...a].filter(c=>c.time!==o.time)),a.length===1&&s(!1)),t||(r(!0),i([...a,o])),I(!1);else return}}},k=()=>{const[o,t]=u(l(s=>[s.chats,s.setChats])),[r]=f(l(s=>[s.userId])),[a]=u(l(s=>[s.holdChats])),i=H();return async()=>{let s=o.slice();for(let n=0;n<a.length;n++)s=s.filter(C=>C.time!==a[n].time);const{deleteSomeChatsInFirestore:d}=await g(async()=>{const{deleteSomeChatsInFirestore:n}=await import("./src-controller-CRUDFirestore.js-B7EpQVhr.js");return{deleteSomeChatsInFirestore:n}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]));d(r,s,a),t(s),i()}},y=()=>{const o=_(),[t]=f(l(e=>[e.userId])),[r,a]=u(l(e=>[e.chats,e.setChats]));return async()=>{const{deleteAllChatsInFirestore:e}=await g(async()=>{const{deleteAllChatsInFirestore:s}=await import("./src-controller-CRUDFirestore.js-B7EpQVhr.js");return{deleteAllChatsInFirestore:s}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]));o&&e(t,r),a([])}},D=()=>{const[o,t,r]=f(l(e=>[e.userId,e.setUserId,e.setLoadingMessages])),[a]=u(l(e=>[e.setChats]));return async()=>{try{const{addNewUserToFirestoreIfNotExists:s,uploadSeenHistory:d}=await g(async()=>{const{addNewUserToFirestoreIfNotExists:m,uploadSeenHistory:c}=await import("./src-controller-CRUDFirestore.js-B7EpQVhr.js");return{addNewUserToFirestoreIfNotExists:m,uploadSeenHistory:c}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])),{getAllChatsFromFirestore:n}=await g(async()=>{const{getAllChatsFromFirestore:m}=await import("./src-controller-CRUDFirestore.js-B7EpQVhr.js");return{getAllChatsFromFirestore:m}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])),h=await s();localStorage.setItem("senAi-userId",h),t(h);const[C]=await Promise.all([n(h),d(h)]);a(C),r(!1)}catch(s){console.log("An error occured : ",s)}localStorage.getItem("senAi-userId")===o||t(localStorage.getItem("senAi-userId"))}},M=()=>{const o=H();return r=>{r.keyCode===27&&o()}},U=()=>{const[o,t]=S(l(a=>[a.darkMode,a.setDarkMode]));return()=>{o?(localStorage.setItem("senAi-theme","light"),t(!1)):(localStorage.setItem("senAi-theme","dark"),t(!0))}},v=()=>{const[o]=S(l(r=>[r.botLanguage]));let t="";return o==="Auto"&&(t="Please Answer Me"),o==="English"&&(t="Please Answer Me In English Language"),o==="Indonesia"&&(t="Please Answer Me In Indonesian Language"),t};export{H as a,U as b,y as c,k as d,L as e,D as f,M as g,v as u};
