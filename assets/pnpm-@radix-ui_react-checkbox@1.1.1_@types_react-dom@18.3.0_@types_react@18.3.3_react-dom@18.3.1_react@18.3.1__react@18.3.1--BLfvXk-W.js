import{r as s,j as p}from"./pnpm-react@18.3.1--FUz9cRTN.js";import{u as D}from"./pnpm-@radix-ui_react-compose-refs@1.1.0_@types_react@18.3.3_react@18.3.1--iQVuCTu7.js";import{c as N}from"./pnpm-@radix-ui_react-context@1.1.0_@types_react@18.3.3_react@18.3.1--8tErLFxD.js";import{c as y}from"./pnpm-@radix-ui_primitive@1.1.0--DW48STyt.js";import{u as B}from"./pnpm-@radix-ui_react-use-controllable-state@1.1.0_@types_react@18.3.3_react@18.3.1--BWEPZzwa.js";import{u as M}from"./pnpm-@radix-ui_react-use-previous@1.1.0_@types_react@18.3.3_react@18.3.1--CR3dOtt7.js";import{u as O}from"./pnpm-@radix-ui_react-use-size@1.1.0_@types_react@18.3.3_react@18.3.1--eLNQE-vY.js";import{P as A}from"./pnpm-@radix-ui_react-presence@1.1.0_@types_react-dom@18.3.0_@types_react@18.3.3_react-dom@18.3.1_react@18.3.1__react@18.3.1--CWL7bkdJ.js";import{P as R}from"./pnpm-@radix-ui_react-primitive@2.0.0_@types_react-dom@18.3.0_@types_react@18.3.3_react-dom@18.3.1_react@18.3.1__react@18.3.1--DTkTuNjz.js";var v="Checkbox",[H,W]=N(v),[K,L]=H(v),I=s.forwardRef((e,l)=>{const{__scopeCheckbox:t,name:a,checked:f,defaultChecked:n,required:m,disabled:i,value:d="on",onCheckedChange:b,...E}=e,[r,k]=s.useState(null),w=D(l,o=>k(o)),C=s.useRef(!1),P=r?!!r.closest("form"):!0,[u=!1,x]=B({prop:f,defaultProp:n,onChange:b}),_=s.useRef(u);return s.useEffect(()=>{const o=r==null?void 0:r.form;if(o){const h=()=>x(_.current);return o.addEventListener("reset",h),()=>o.removeEventListener("reset",h)}},[r,x]),p.jsxs(K,{scope:t,state:u,disabled:i,children:[p.jsx(R.button,{type:"button",role:"checkbox","aria-checked":c(u)?"mixed":u,"aria-required":m,"data-state":g(u),"data-disabled":i?"":void 0,disabled:i,value:d,...E,ref:w,onKeyDown:y(e.onKeyDown,o=>{o.key==="Enter"&&o.preventDefault()}),onClick:y(e.onClick,o=>{x(h=>c(h)?!0:!h),P&&(C.current=o.isPropagationStopped(),C.current||o.stopPropagation())})}),P&&p.jsx(q,{control:r,bubbles:!C.current,name:a,value:d,checked:u,required:m,disabled:i,style:{transform:"translateX(-100%)"}})]})});I.displayName=v;var S="CheckboxIndicator",j=s.forwardRef((e,l)=>{const{__scopeCheckbox:t,forceMount:a,...f}=e,n=L(S,t);return p.jsx(A,{present:a||c(n.state)||n.state===!0,children:p.jsx(R.span,{"data-state":g(n.state),"data-disabled":n.disabled?"":void 0,...f,ref:l,style:{pointerEvents:"none",...e.style}})})});j.displayName=S;var q=e=>{const{control:l,checked:t,bubbles:a=!0,...f}=e,n=s.useRef(null),m=M(t),i=O(l);return s.useEffect(()=>{const d=n.current,b=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(b,"checked").set;if(m!==t&&r){const k=new Event("click",{bubbles:a});d.indeterminate=c(t),r.call(d,c(t)?!1:t),d.dispatchEvent(k)}},[m,t,a]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:c(t)?!1:t,...f,tabIndex:-1,ref:n,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function c(e){return e==="indeterminate"}function g(e){return c(e)?"indeterminate":e?"checked":"unchecked"}var Y=I,Z=j;export{Z as I,Y as R};
